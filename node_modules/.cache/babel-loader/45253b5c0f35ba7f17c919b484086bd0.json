{"remainingRequest":"/Users/xmg/Desktop/前端知识/13期/Day 04/mall/node_modules/babel-loader/lib/index.js!/Users/xmg/Desktop/前端知识/13期/Day 04/mall/src/components/common/toast/index.js","dependencies":[{"path":"/Users/xmg/Desktop/前端知识/13期/Day 04/mall/src/components/common/toast/index.js","mtime":1543484145000},{"path":"/Users/xmg/Desktop/前端知识/13期/Day 04/mall/node_modules/cache-loader/dist/cjs.js","mtime":1541055698000},{"path":"/Users/xmg/Desktop/前端知识/13期/Day 04/mall/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Toast from './Toast';\nvar plugin = {};\n\nfunction removeDom(event) {\n  if (event.target.parentNode) {\n    event.target.parentNode.removeChild(event.target);\n  }\n}\n\nplugin.install = function (Vue) {\n  var ToastConstructor = Vue.extend(Toast); // 注意:这里不能用箭头函数\n\n  ToastConstructor.prototype.close = function () {\n    this.isShow = false;\n    this.$el.addEventListener('transitionend', removeDom);\n  };\n\n  Vue.prototype.$toast = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // 1.将创建出来的组件,挂载到某个div中\n    var toast = new ToastConstructor();\n    toast.$mount(document.createElement('div')); // 2.将toast的$el添加到body中\n\n    document.body.appendChild(toast.$el); // 3.获取用户自定义数据\n\n    var duration = options.duration || 2500;\n    toast.message = options.message;\n    toast.isShow = true; // 4.定时器让toast消失\n\n    setTimeout(function () {\n      toast.close();\n    }, duration);\n  };\n};\n\nexport default plugin;",{"version":3,"sources":["/Users/xmg/Desktop/前端知识/13期/Day 04/mall/src/components/common/toast/index.js"],"names":["Toast","plugin","removeDom","event","target","parentNode","removeChild","install","Vue","ToastConstructor","extend","prototype","close","isShow","$el","addEventListener","$toast","options","toast","$mount","document","createElement","body","appendChild","duration","message","setTimeout"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,SAAlB;AAEA,IAAMC,MAAM,GAAG,EAAf;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACzB,MAAIA,KAAK,CAACC,MAAN,CAAaC,UAAjB,EAA6B;AAC5BF,IAAAA,KAAK,CAACC,MAAN,CAAaC,UAAb,CAAwBC,WAAxB,CAAoCH,KAAK,CAACC,MAA1C;AACA;AACD;;AAEDH,MAAM,CAACM,OAAP,GAAiB,UAACC,GAAD,EAAS;AACzB,MAAMC,gBAAgB,GAAGD,GAAG,CAACE,MAAJ,CAAWV,KAAX,CAAzB,CADyB,CAGzB;;AACAS,EAAAA,gBAAgB,CAACE,SAAjB,CAA2BC,KAA3B,GAAmC,YAAW;AAC7C,SAAKC,MAAL,GAAc,KAAd;AACA,SAAKC,GAAL,CAASC,gBAAT,CAA0B,eAA1B,EAA2Cb,SAA3C;AACA,GAHD;;AAKAM,EAAAA,GAAG,CAACG,SAAJ,CAAcK,MAAd,GAAuB,YAAgB;AAAA,QAAfC,OAAe,uEAAP,EAAO;AACtC;AACA,QAAMC,KAAK,GAAG,IAAIT,gBAAJ,EAAd;AACAS,IAAAA,KAAK,CAACC,MAAN,CAAaC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAb,EAHsC,CAKtC;;AACAD,IAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BL,KAAK,CAACJ,GAAhC,EANsC,CAQtC;;AACA,QAAMU,QAAQ,GAAGP,OAAO,CAACO,QAAR,IAAoB,IAArC;AACAN,IAAAA,KAAK,CAACO,OAAN,GAAgBR,OAAO,CAACQ,OAAxB;AACAP,IAAAA,KAAK,CAACL,MAAN,GAAe,IAAf,CAXsC,CAatC;;AACAa,IAAAA,UAAU,CAAC,YAAM;AAChBR,MAAAA,KAAK,CAACN,KAAN;AACA,KAFS,EAEPY,QAFO,CAAV;AAGA,GAjBD;AAkBA,CA3BD;;AA6BA,eAAevB,MAAf","sourcesContent":["import Toast from './Toast'\n\nconst plugin = {}\n\nfunction removeDom(event) {\n\tif (event.target.parentNode) {\n\t\tevent.target.parentNode.removeChild(event.target)\n\t}\n}\n\nplugin.install = (Vue) => {\n\tconst ToastConstructor = Vue.extend(Toast)\n\n\t// 注意:这里不能用箭头函数\n\tToastConstructor.prototype.close = function() {\n\t\tthis.isShow = false\n\t\tthis.$el.addEventListener('transitionend', removeDom)\n\t}\n\n\tVue.prototype.$toast = (options={}) => {\n\t\t// 1.将创建出来的组件,挂载到某个div中\n\t\tconst toast = new ToastConstructor()\n\t\ttoast.$mount(document.createElement('div'))\n\n\t\t// 2.将toast的$el添加到body中\n\t\tdocument.body.appendChild(toast.$el)\n\n\t\t// 3.获取用户自定义数据\n\t\tconst duration = options.duration || 2500\n\t\ttoast.message = options.message\n\t\ttoast.isShow = true\n\n\t\t// 4.定时器让toast消失\n\t\tsetTimeout(() => {\n\t\t\ttoast.close()\n\t\t}, duration)\n\t}\n}\n\nexport default plugin\n\n\n\n"]}]}