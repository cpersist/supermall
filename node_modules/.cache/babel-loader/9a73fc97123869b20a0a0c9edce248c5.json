{"remainingRequest":"/Users/xmg/Desktop/前端知识/13期/Day 04/mall/node_modules/babel-loader/lib/index.js!/Users/xmg/Desktop/前端知识/13期/Day 04/mall/src/store/actions.js","dependencies":[{"path":"/Users/xmg/Desktop/前端知识/13期/Day 04/mall/src/store/actions.js","mtime":1543545966000},{"path":"/Users/xmg/Desktop/前端知识/13期/Day 04/mall/node_modules/cache-loader/dist/cjs.js","mtime":1541055698000},{"path":"/Users/xmg/Desktop/前端知识/13期/Day 04/mall/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport * as types from './mutation-types';\nvar actions = {\n  addToCart: function addToCart(_ref, info) {\n    var state = _ref.state,\n        commit = _ref.commit;\n    return new Promise(function (resolve) {\n      // 1.查看该商品是否已经添加到cartList中\n      var oldInfo = state.cartList.find(function (item) {\n        return item.iid === info.iid;\n      }); // 2.如果oldInfo存在, 那么原来的数量加1\n\n      if (oldInfo) {\n        var index = state.cartList.indexOf(oldInfo);\n        commit(types.INCREMENT_COUNT, index);\n      } else {\n        info.count = 1;\n        info.checked = true;\n        commit(types.ADD_TO_CART, info);\n      }\n\n      resolve();\n    });\n  }\n};\nexport default actions;",{"version":3,"sources":["/Users/xmg/Desktop/前端知识/13期/Day 04/mall/src/store/actions.js"],"names":["types","actions","addToCart","info","state","commit","Promise","resolve","oldInfo","cartList","find","item","iid","index","indexOf","INCREMENT_COUNT","count","checked","ADD_TO_CART"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,kBAAvB;AAEA,IAAMC,OAAO,GAAG;AACfC,EAAAA,SADe,2BACYC,IADZ,EACkB;AAAA,QAAtBC,KAAsB,QAAtBA,KAAsB;AAAA,QAAfC,MAAe,QAAfA,MAAe;AAChC,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC/B;AACA,UAAMC,OAAO,GAAGJ,KAAK,CAACK,QAAN,CAAeC,IAAf,CAAoB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaT,IAAI,CAACS,GAAtB;AAAA,OAAxB,CAAhB,CAF+B,CAI/B;;AACA,UAAIJ,OAAJ,EAAa;AACZ,YAAMK,KAAK,GAAGT,KAAK,CAACK,QAAN,CAAeK,OAAf,CAAuBN,OAAvB,CAAd;AACAH,QAAAA,MAAM,CAACL,KAAK,CAACe,eAAP,EAAwBF,KAAxB,CAAN;AACA,OAHD,MAGO;AACNV,QAAAA,IAAI,CAACa,KAAL,GAAa,CAAb;AACAb,QAAAA,IAAI,CAACc,OAAL,GAAe,IAAf;AACAZ,QAAAA,MAAM,CAACL,KAAK,CAACkB,WAAP,EAAoBf,IAApB,CAAN;AACA;;AAEDI,MAAAA,OAAO;AACP,KAfM,CAAP;AAgBA;AAlBc,CAAhB;AAqBA,eAAeN,OAAf","sourcesContent":["import * as types from './mutation-types'\n\nconst actions = {\n\taddToCart({state, commit}, info) {\n\t\treturn new Promise((resolve) => {\n\t\t\t// 1.查看该商品是否已经添加到cartList中\n\t\t\tconst oldInfo = state.cartList.find(item => item.iid === info.iid)\n\n\t\t\t// 2.如果oldInfo存在, 那么原来的数量加1\n\t\t\tif (oldInfo) {\n\t\t\t\tconst index = state.cartList.indexOf(oldInfo)\n\t\t\t\tcommit(types.INCREMENT_COUNT, index)\n\t\t\t} else {\n\t\t\t\tinfo.count = 1\n\t\t\t\tinfo.checked = true\n\t\t\t\tcommit(types.ADD_TO_CART, info)\n\t\t\t}\n\n\t\t\tresolve()\n\t\t})\n\t}\n}\n\nexport default actions\n"]}]}